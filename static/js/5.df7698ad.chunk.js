(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{384:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"h",(function(){return f})),n.d(t,"d",(function(){return s})),n.d(t,"i",(function(){return p}));var r=n(429),a=function(e){return e.auth.login},o=function(e){return e.auth.loading},i=function(e){return e.auth.isAuth},c=function(e){return e.response.loading},u=function(e){return e.response.responseValue},l=function(e){return e.editor.width},f=function(e){return e.history.selected},s=function(e){return e.history.records},p=Object(r.a)(f,s,(function(e,t){return t.find((function(t){return t.id===e}))}))},429:function(e,t,n){"use strict";function r(e,t){return e===t}function a(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}n.d(t,"a",(function(){return i}));var i=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];var i=0,c=r.pop(),u=o(r),l=e.apply(void 0,[function(){return i++,c.apply(null,arguments)}].concat(n)),f=e((function(){for(var e=[],t=u.length,n=0;n<t;n++)e.push(u[n].apply(null,arguments));return l.apply(null,e)}));return f.resultFunc=c,f.dependencies=u,f.recomputations=function(){return i},f.resetRecomputations=function(){return i=0},f}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,o=null;return function(){return a(t,n,arguments)||(o=e.apply(null,arguments)),n=arguments,o}}))},430:function(e,t){e.exports="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 59 43'%3E%3Cdefs%3E%3Cstyle%3E.cls-4%7Bfill:%23fff%7D%3C/style%3E%3C/defs%3E%3Cg id='\u0421\u043b\u043e\u0439_2' data-name='\u0421\u043b\u043e\u0439 2'%3E%3Cg id='\u0421\u043b\u043e\u0439_1-2' data-name='\u0421\u043b\u043e\u0439 1'%3E%3Ccircle cx='44' cy='28' r='15' fill='%23cae8ea'/%3E%3Crect width='47' height='33' rx='4' fill='%2389c5cc'/%3E%3Crect x='6' y='5' width='45' height='31' rx='3' fill='%231a1a1a'/%3E%3Cpath d='M48 6a2 2 0 012 2v25a2 2 0 01-2 2H9a2 2 0 01-2-2V8a2 2 0 012-2h39m0-2H9a4 4 0 00-4 4v25a4 4 0 004 4h39a4 4 0 004-4V8a4 4 0 00-4-4z'/%3E%3Crect class='cls-4' x='10.5' y='12.5' width='12' height='2' rx='1' transform='rotate(30 16.497 13.5)'/%3E%3Crect class='cls-4' x='10.42' y='17.3' width='11.98' height='2' rx='1' transform='rotate(-27.01 16.413 18.299)'/%3E%3Crect class='cls-4' x='22' y='20' width='9' height='2' rx='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"},443:function(e,t,n){"use strict";var r=n(0),a=n.n(r);n(444);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=function(e){var t=e.children,n=i(e,["children"]);return a.a.createElement("button",o({className:"button"},n),t)};t.a=a.a.memo(c)},444:function(e,t,n){},447:function(e,t,n){"use strict";var r=n(0),a=n(108),o=n(384),i=n(5);t.a=function(e){var t=function(){var e=Object(i.i)(),t=Object(i.f)(),n=Object(i.h)(),a=i.g;return Object(r.useMemo)((function(){return{params:e,location:t,navigate:n,match:a,pathname:t.pathname}}),[e,t,n])}().navigate,n=Object(a.c)(o.b);Object(r.useEffect)((function(){n||t("/signin"),e&&n&&t("/")}),[n])}},473:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(38),i=n.n(o);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=Object(r.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,i=void 0===o?24:o,l=u(e,["color","size"]);return a.a.createElement("svg",c({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),a.a.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),a.a.createElement("circle",{cx:"12",cy:"7",r:"4"}))}));l.propTypes={color:i.a.string,size:i.a.oneOfType([i.a.string,i.a.number])},l.displayName="User",t.a=l},526:function(e,t,n){},527:function(e,t,n){},528:function(e,t,n){},529:function(e,t,n){e.exports=n.p+"1f58ceffb5c2244c33cac01f57bac049.png"},530:function(e,t,n){},547:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(473),i=n(38),c=n.n(i);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var f=Object(r.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,i=void 0===o?24:o,c=l(e,["color","size"]);return a.a.createElement("svg",u({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),a.a.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),a.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}))}));f.propTypes={color:c.a.string,size:c.a.oneOfType([c.a.string,c.a.number])},f.displayName="Lock";var s=f,p=n(108),m=n(384),d=n(20),g=(n(526),function(e){var t=e.label,n=e.name,r=e.type,o=e.value,i=e.onChange,c=e.Icon;return a.a.createElement("div",{className:"form-field"},a.a.createElement("label",{htmlFor:n},t),a.a.createElement("div",{className:"form-field--input"},a.a.createElement(c,{size:18}),a.a.createElement("input",{name:n,id:n,type:r,value:o,onChange:i})))}),h=a.a.memo(g),v=n(443),y=n(109),b=n(430),O=n.n(b);n(527);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(u){a=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=function(){var e=w(Object(r.useState)("SomeUsername"),2),t=e[0],n=e[1],i=w(Object(r.useState)("qwerty"),2),c=i[0],u=i[1],l=Object(p.b)(),f=Object(p.c)(m.a),g=Object(r.useCallback)((function(){return!(t.length<5||c.length<6)}),[t,c]),b=Object(r.useCallback)((function(e){e.preventDefault(),g&&l(d.a.signInAction({login:t,password:c}))}),[t,c]);return a.a.createElement("form",{onSubmit:b,className:"sign-in-form"},a.a.createElement("img",{className:"sign-in-form--logo",src:O.a}),a.a.createElement("h1",{className:"sign-in-form--title"},"API.Query"),a.a.createElement(h,{name:"login",value:t,onChange:function(e){return n(e.target.value)},type:"text",label:"\u041b\u043e\u0433\u0438\u043d*",Icon:o.a}),a.a.createElement(h,{name:"password",value:c,onChange:function(e){return u(e.target.value)},type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c*",Icon:s}),a.a.createElement(v.a,{type:"submit",disabled:!g()},!f&&"\u0412\u0445\u043e\u0434",f&&a.a.createElement(y.a,{size:18})))},x=(n(528),function(e){var t=e.children;return a.a.createElement("section",{className:"sign-in-grid--wrapper"},a.a.createElement("div",{className:"sign-in-grid"},t))}),C=n(529),k=n.n(C),S=(n(530),function(){return a.a.createElement("div",{className:"sign-in-image",style:{backgroundImage:'url("'.concat(k.a,'")')}})}),A=n(447),I=function(){return Object(A.a)(!0),a.a.createElement(x,null,a.a.createElement(S,null),a.a.createElement(j,null))};t.default=a.a.memo(I)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RvcmUvc2VsZWN0b3JzL2luZGV4LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNlbGVjdC9lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2ltYWdlcy9sb2dvLnN2ZyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy91aS9CdXR0b24vaW5kZXgudHN4Iiwid2VicGFjazovLy8uL3NyYy9ob29rcy91c2VBdXRoQ2hlY2sudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hvb2tzL3VzZVJvdXRlci50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZmVhdGhlci9kaXN0L2ljb25zL3VzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9pbWFnZXMvc2lnbi1pbi5wbmciLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWZlYXRoZXIvZGlzdC9pY29ucy9sb2NrLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3VpL0Zvcm1GaWVsZC9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvU2lnbkluRm9ybS9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdWkvU2lnbkluR3JpZC9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdWkvU2lnbkluSW1hZ2UvaW5kZXgudHN4Iiwid2VicGFjazovLy8uL3NyYy9zY3JlZW5zL1NpZ25Jbi9pbmRleC50c3giXSwibmFtZXMiOlsiZ2V0TG9naW5TZWxlY3RvciIsInN0YXRlIiwiYXV0aCIsImxvZ2luIiwiZ2V0QXV0aExvYWRpbmdTdGF0dXMiLCJsb2FkaW5nIiwiZ2V0QXV0aFN0YXR1cyIsImlzQXV0aCIsImdldFJlc3BvbnNlTG9hZGluZ1N0YXR1cyIsInJlc3BvbnNlIiwiZ2V0UmVzcG9uc2VWYWx1ZSIsInJlc3BvbnNlVmFsdWUiLCJnZXRFZGl0b3JXaWR0aCIsImVkaXRvciIsIndpZHRoIiwiZ2V0U2VsZWN0ZWRJRCIsImhpc3RvcnkiLCJzZWxlY3RlZCIsImdldEhpc3RvcnlSZWNvcmRzIiwicmVjb3JkcyIsImdldFNlbGVjdGVkVmFsdWUiLCJjcmVhdGVTZWxlY3RvciIsInNlbGVjdGVkSWQiLCJmaW5kIiwicmVjIiwiaWQiLCJkZWZhdWx0RXF1YWxpdHlDaGVjayIsImEiLCJiIiwiYXJlQXJndW1lbnRzU2hhbGxvd2x5RXF1YWwiLCJlcXVhbGl0eUNoZWNrIiwicHJldiIsIm5leHQiLCJsZW5ndGgiLCJpIiwiZ2V0RGVwZW5kZW5jaWVzIiwiZnVuY3MiLCJkZXBlbmRlbmNpZXMiLCJBcnJheSIsImlzQXJyYXkiLCJldmVyeSIsImRlcCIsImRlcGVuZGVuY3lUeXBlcyIsIm1hcCIsImpvaW4iLCJFcnJvciIsIm1lbW9pemUiLCJfbGVuIiwiYXJndW1lbnRzIiwibWVtb2l6ZU9wdGlvbnMiLCJfa2V5IiwiX2xlbjIiLCJfa2V5MiIsInJlY29tcHV0YXRpb25zIiwicmVzdWx0RnVuYyIsInBvcCIsIm1lbW9pemVkUmVzdWx0RnVuYyIsImFwcGx5IiwidW5kZWZpbmVkIiwiY29uY2F0Iiwic2VsZWN0b3IiLCJwYXJhbXMiLCJwdXNoIiwicmVzZXRSZWNvbXB1dGF0aW9ucyIsImNyZWF0ZVNlbGVjdG9yQ3JlYXRvciIsImZ1bmMiLCJsYXN0QXJncyIsImxhc3RSZXN1bHQiLCJtb2R1bGUiLCJleHBvcnRzIiwiQnV0dG9uIiwiY2hpbGRyZW4iLCJwcm9wcyIsImNsYXNzTmFtZSIsIlJlYWN0IiwibWVtbyIsInVzZUF1dGhDaGVjayIsInJldmVyc2UiLCJuYXZpZ2F0ZSIsInVzZVBhcmFtcyIsImxvY2F0aW9uIiwidXNlTG9jYXRpb24iLCJ1c2VOYXZpZ2F0ZSIsIm1hdGNoIiwidXNlTWF0Y2giLCJ1c2VNZW1vIiwicGF0aG5hbWUiLCJ1c2VSb3V0ZXIiLCJ1c2VTZWxlY3RvciIsInVzZUVmZmVjdCIsIl9leHRlbmRzIiwiT2JqZWN0IiwiYXNzaWduIiwidGFyZ2V0Iiwic291cmNlIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwidGhpcyIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllcyIsImV4Y2x1ZGVkIiwic291cmNlS2V5cyIsImtleXMiLCJpbmRleE9mIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJzb3VyY2VTeW1ib2xLZXlzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJVc2VyIiwiX3JlZiIsInJlZiIsIl9yZWYkY29sb3IiLCJjb2xvciIsIl9yZWYkc2l6ZSIsInNpemUiLCJyZXN0IiwiY3JlYXRlRWxlbWVudCIsInhtbG5zIiwiaGVpZ2h0Iiwidmlld0JveCIsImZpbGwiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsImQiLCJjeCIsImN5IiwiciIsInByb3BUeXBlcyIsInN0cmluZyIsIm9uZU9mVHlwZSIsIm51bWJlciIsImRpc3BsYXlOYW1lIiwiTG9jayIsIngiLCJ5IiwicngiLCJyeSIsIkZvcm1GaWVsZCIsImxhYmVsIiwibmFtZSIsInR5cGUiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiSWNvbiIsImh0bWxGb3IiLCJTaWduSW5Gb3JtIiwidXNlU3RhdGUiLCJzZXRMb2dpbiIsInBhc3N3b3JkIiwic2V0UGFzc3dvcmQiLCJkaXNwYXRjaCIsInVzZURpc3BhdGNoIiwidmFsaWRhdGVJbnB1dHMiLCJ1c2VDYWxsYmFjayIsImhhbmRsZVN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIkFjdGlvbnMiLCJzaWduSW5BY3Rpb24iLCJvblN1Ym1pdCIsInNyYyIsImxvZ28iLCJkaXNhYmxlZCIsIlNwaW5uZXIiLCJTaWduSW5HcmlkIiwiU2lnbkluSW1hZ2UiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImltZyIsIlNpZ25JbiJdLCJtYXBwaW5ncyI6IjBGQUNBLCtUQUdhQSxFQUFt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LE9BREFoRyxhQUFhLEdBRVgsa0JBQUMsRUFBRCxLQUNFLGtCQUFDLEVBQUQsTUFDQSxrQkFBQyxFQUFELFFBS1NGLGNBQU1DLEtBQUtpRyIsImZpbGUiOiJzdGF0aWMvanMvNS5kZjc2OThhZC5jaHVuay5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvb3RTdGF0ZSB9IGZyb20gJ3N0b3JlL3JlZHVjZXJzJztcbmltcG9ydCB7IGNyZWF0ZVNlbGVjdG9yIH0gZnJvbSAncmVzZWxlY3QnO1xuXG4vLyBBdXRoIHNlbGVjdG9yc1xuZXhwb3J0IGNvbnN0IGdldExvZ2luU2VsZWN0b3IgPSAoc3RhdGU6IFJvb3RTdGF0ZSkgPT4gc3RhdGUuYXV0aC5sb2dpbjtcbmV4cG9ydCBjb25zdCBnZXRBdXRoTG9hZGluZ1N0YXR1cyA9IChzdGF0ZTogUm9vdFN0YXRlKSA9PiBzdGF0ZS5hdXRoLmxvYWRpbmc7XG5leHBvcnQgY29uc3QgZ2V0QXV0aFN0YXR1cyA9IChzdGF0ZTogUm9vdFN0YXRlKSA9PiBzdGF0ZS5hdXRoLmlzQXV0aDtcblxuLy8gUmVzcG9uc2Ugc2VsZWN0b3JzXG5leHBvcnQgY29uc3QgZ2V0UmVzcG9uc2VMb2FkaW5nU3RhdHVzID0gKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLnJlc3BvbnNlLmxvYWRpbmc7XG5leHBvcnQgY29uc3QgZ2V0UmVzcG9uc2VWYWx1ZSA9IChzdGF0ZTogUm9vdFN0YXRlKSA9PiBzdGF0ZS5yZXNwb25zZS5yZXNwb25zZVZhbHVlO1xuXG4vLyBFZGl0b3Igc2VsZWN0b3JzXG5leHBvcnQgY29uc3QgZ2V0RWRpdG9yV2lkdGggPSAoc3RhdGU6IFJvb3RTdGF0ZSkgPT4gc3RhdGUuZWRpdG9yLndpZHRoO1xuXG4vLyBIaXN0b3J5IHNlbGVjdG9yc1xuZXhwb3J0IGNvbnN0IGdldFNlbGVjdGVkSUQgPSAoc3RhdGU6IFJvb3RTdGF0ZSkgPT4gc3RhdGUuaGlzdG9yeS5zZWxlY3RlZDtcbmV4cG9ydCBjb25zdCBnZXRIaXN0b3J5UmVjb3JkcyA9IChzdGF0ZTogUm9vdFN0YXRlKSA9PiBzdGF0ZS5oaXN0b3J5LnJlY29yZHM7XG5cbmV4cG9ydCBjb25zdCBnZXRTZWxlY3RlZFZhbHVlID0gY3JlYXRlU2VsZWN0b3IoXG4gIGdldFNlbGVjdGVkSUQsIGdldEhpc3RvcnlSZWNvcmRzLFxuICAoc2VsZWN0ZWRJZCwgcmVjb3JkcyApID0+IHtcbiAgICByZXR1cm4gcmVjb3Jkcy5maW5kKHJlYyA9PiByZWMuaWQgPT09IHNlbGVjdGVkSWQpXG4gIH1cbilcblxuIiwiZnVuY3Rpb24gZGVmYXVsdEVxdWFsaXR5Q2hlY2soYSwgYikge1xuICByZXR1cm4gYSA9PT0gYjtcbn1cblxuZnVuY3Rpb24gYXJlQXJndW1lbnRzU2hhbGxvd2x5RXF1YWwoZXF1YWxpdHlDaGVjaywgcHJldiwgbmV4dCkge1xuICBpZiAocHJldiA9PT0gbnVsbCB8fCBuZXh0ID09PSBudWxsIHx8IHByZXYubGVuZ3RoICE9PSBuZXh0Lmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIERvIHRoaXMgaW4gYSBmb3IgbG9vcCAoYW5kIG5vdCBhIGBmb3JFYWNoYCBvciBhbiBgZXZlcnlgKSBzbyB3ZSBjYW4gZGV0ZXJtaW5lIGVxdWFsaXR5IGFzIGZhc3QgYXMgcG9zc2libGUuXG4gIHZhciBsZW5ndGggPSBwcmV2Lmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmICghZXF1YWxpdHlDaGVjayhwcmV2W2ldLCBuZXh0W2ldKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdE1lbW9pemUoZnVuYykge1xuICB2YXIgZXF1YWxpdHlDaGVjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZGVmYXVsdEVxdWFsaXR5Q2hlY2s7XG5cbiAgdmFyIGxhc3RBcmdzID0gbnVsbDtcbiAgdmFyIGxhc3RSZXN1bHQgPSBudWxsO1xuICAvLyB3ZSByZWZlcmVuY2UgYXJndW1lbnRzIGluc3RlYWQgb2Ygc3ByZWFkaW5nIHRoZW0gZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnNcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWFyZUFyZ3VtZW50c1NoYWxsb3dseUVxdWFsKGVxdWFsaXR5Q2hlY2ssIGxhc3RBcmdzLCBhcmd1bWVudHMpKSB7XG4gICAgICAvLyBhcHBseSBhcmd1bWVudHMgaW5zdGVhZCBvZiBzcHJlYWRpbmcgZm9yIHBlcmZvcm1hbmNlLlxuICAgICAgbGFzdFJlc3VsdCA9IGZ1bmMuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gbGFzdFJlc3VsdDtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RGVwZW5kZW5jaWVzKGZ1bmNzKSB7XG4gIHZhciBkZXBlbmRlbmNpZXMgPSBBcnJheS5pc0FycmF5KGZ1bmNzWzBdKSA/IGZ1bmNzWzBdIDogZnVuY3M7XG5cbiAgaWYgKCFkZXBlbmRlbmNpZXMuZXZlcnkoZnVuY3Rpb24gKGRlcCkge1xuICAgIHJldHVybiB0eXBlb2YgZGVwID09PSAnZnVuY3Rpb24nO1xuICB9KSkge1xuICAgIHZhciBkZXBlbmRlbmN5VHlwZXMgPSBkZXBlbmRlbmNpZXMubWFwKGZ1bmN0aW9uIChkZXApIHtcbiAgICAgIHJldHVybiB0eXBlb2YgZGVwO1xuICAgIH0pLmpvaW4oJywgJyk7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTZWxlY3RvciBjcmVhdG9ycyBleHBlY3QgYWxsIGlucHV0LXNlbGVjdG9ycyB0byBiZSBmdW5jdGlvbnMsICcgKyAoJ2luc3RlYWQgcmVjZWl2ZWQgdGhlIGZvbGxvd2luZyB0eXBlczogWycgKyBkZXBlbmRlbmN5VHlwZXMgKyAnXScpKTtcbiAgfVxuXG4gIHJldHVybiBkZXBlbmRlbmNpZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZWxlY3RvckNyZWF0b3IobWVtb2l6ZSkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbWVtb2l6ZU9wdGlvbnMgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgbWVtb2l6ZU9wdGlvbnNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGZ1bmNzID0gQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGZ1bmNzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuXG4gICAgdmFyIHJlY29tcHV0YXRpb25zID0gMDtcbiAgICB2YXIgcmVzdWx0RnVuYyA9IGZ1bmNzLnBvcCgpO1xuICAgIHZhciBkZXBlbmRlbmNpZXMgPSBnZXREZXBlbmRlbmNpZXMoZnVuY3MpO1xuXG4gICAgdmFyIG1lbW9pemVkUmVzdWx0RnVuYyA9IG1lbW9pemUuYXBwbHkodW5kZWZpbmVkLCBbZnVuY3Rpb24gKCkge1xuICAgICAgcmVjb21wdXRhdGlvbnMrKztcbiAgICAgIC8vIGFwcGx5IGFyZ3VtZW50cyBpbnN0ZWFkIG9mIHNwcmVhZGluZyBmb3IgcGVyZm9ybWFuY2UuXG4gICAgICByZXR1cm4gcmVzdWx0RnVuYy5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH1dLmNvbmNhdChtZW1vaXplT3B0aW9ucykpO1xuXG4gICAgLy8gSWYgYSBzZWxlY3RvciBpcyBjYWxsZWQgd2l0aCB0aGUgZXhhY3Qgc2FtZSBhcmd1bWVudHMgd2UgZG9uJ3QgbmVlZCB0byB0cmF2ZXJzZSBvdXIgZGVwZW5kZW5jaWVzIGFnYWluLlxuICAgIHZhciBzZWxlY3RvciA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBhcmFtcyA9IFtdO1xuICAgICAgdmFyIGxlbmd0aCA9IGRlcGVuZGVuY2llcy5sZW5ndGg7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gYXBwbHkgYXJndW1lbnRzIGluc3RlYWQgb2Ygc3ByZWFkaW5nIGFuZCBtdXRhdGUgYSBsb2NhbCBsaXN0IG9mIHBhcmFtcyBmb3IgcGVyZm9ybWFuY2UuXG4gICAgICAgIHBhcmFtcy5wdXNoKGRlcGVuZGVuY2llc1tpXS5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcbiAgICAgIH1cblxuICAgICAgLy8gYXBwbHkgYXJndW1lbnRzIGluc3RlYWQgb2Ygc3ByZWFkaW5nIGZvciBwZXJmb3JtYW5jZS5cbiAgICAgIHJldHVybiBtZW1vaXplZFJlc3VsdEZ1bmMuYXBwbHkobnVsbCwgcGFyYW1zKTtcbiAgICB9KTtcblxuICAgIHNlbGVjdG9yLnJlc3VsdEZ1bmMgPSByZXN1bHRGdW5jO1xuICAgIHNlbGVjdG9yLmRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcztcbiAgICBzZWxlY3Rvci5yZWNvbXB1dGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZWNvbXB1dGF0aW9ucztcbiAgICB9O1xuICAgIHNlbGVjdG9yLnJlc2V0UmVjb21wdXRhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVjb21wdXRhdGlvbnMgPSAwO1xuICAgIH07XG4gICAgcmV0dXJuIHNlbGVjdG9yO1xuICB9O1xufVxuXG5leHBvcnQgdmFyIGNyZWF0ZVNlbGVjdG9yID0gY3JlYXRlU2VsZWN0b3JDcmVhdG9yKGRlZmF1bHRNZW1vaXplKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvcihzZWxlY3RvcnMpIHtcbiAgdmFyIHNlbGVjdG9yQ3JlYXRvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogY3JlYXRlU2VsZWN0b3I7XG5cbiAgaWYgKHR5cGVvZiBzZWxlY3RvcnMgIT09ICdvYmplY3QnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3IgZXhwZWN0cyBmaXJzdCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3QgJyArICgnd2hlcmUgZWFjaCBwcm9wZXJ0eSBpcyBhIHNlbGVjdG9yLCBpbnN0ZWFkIHJlY2VpdmVkIGEgJyArIHR5cGVvZiBzZWxlY3RvcnMpKTtcbiAgfVxuICB2YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzKHNlbGVjdG9ycyk7XG4gIHJldHVybiBzZWxlY3RvckNyZWF0b3Iob2JqZWN0S2V5cy5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBzZWxlY3RvcnNba2V5XTtcbiAgfSksIGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIHZhbHVlcyA9IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICB2YWx1ZXNbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWVzLnJlZHVjZShmdW5jdGlvbiAoY29tcG9zaXRpb24sIHZhbHVlLCBpbmRleCkge1xuICAgICAgY29tcG9zaXRpb25bb2JqZWN0S2V5c1tpbmRleF1dID0gdmFsdWU7XG4gICAgICByZXR1cm4gY29tcG9zaXRpb247XG4gICAgfSwge30pO1xuICB9KTtcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1OSA0MyclM0UlM0NkZWZzJTNFJTNDc3R5bGUlM0UuY2xzLTQlN0JmaWxsOiUyM2ZmZiU3RCUzQy9zdHlsZSUzRSUzQy9kZWZzJTNFJTNDZyBpZD0n0KHQu9C+0LlfMicgZGF0YS1uYW1lPSfQodC70L7QuSAyJyUzRSUzQ2cgaWQ9J9Ch0LvQvtC5XzEtMicgZGF0YS1uYW1lPSfQodC70L7QuSAxJyUzRSUzQ2NpcmNsZSBjeD0nNDQnIGN5PScyOCcgcj0nMTUnIGZpbGw9JyUyM2NhZThlYScvJTNFJTNDcmVjdCB3aWR0aD0nNDcnIGhlaWdodD0nMzMnIHJ4PSc0JyBmaWxsPSclMjM4OWM1Y2MnLyUzRSUzQ3JlY3QgeD0nNicgeT0nNScgd2lkdGg9JzQ1JyBoZWlnaHQ9JzMxJyByeD0nMycgZmlsbD0nJTIzMWExYTFhJy8lM0UlM0NwYXRoIGQ9J000OCA2YTIgMiAwIDAxMiAydjI1YTIgMiAwIDAxLTIgMkg5YTIgMiAwIDAxLTItMlY4YTIgMiAwIDAxMi0yaDM5bTAtMkg5YTQgNCAwIDAwLTQgNHYyNWE0IDQgMCAwMDQgNGgzOWE0IDQgMCAwMDQtNFY4YTQgNCAwIDAwLTQtNHonLyUzRSUzQ3JlY3QgY2xhc3M9J2Nscy00JyB4PScxMC41JyB5PScxMi41JyB3aWR0aD0nMTInIGhlaWdodD0nMicgcng9JzEnIHRyYW5zZm9ybT0ncm90YXRlKDMwIDE2LjQ5NyAxMy41KScvJTNFJTNDcmVjdCBjbGFzcz0nY2xzLTQnIHg9JzEwLjQyJyB5PScxNy4zJyB3aWR0aD0nMTEuOTgnIGhlaWdodD0nMicgcng9JzEnIHRyYW5zZm9ybT0ncm90YXRlKC0yNy4wMSAxNi40MTMgMTguMjk5KScvJTNFJTNDcmVjdCBjbGFzcz0nY2xzLTQnIHg9JzIyJyB5PScyMCcgd2lkdGg9JzknIGhlaWdodD0nMicgcng9JzEnLyUzRSUzQy9nJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXCIiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vLyBJbXBvcnQgc3R5bGVzXG5pbXBvcnQgJy4vYnV0dG9uLnNjc3MnO1xuXG5jb25zdCBCdXR0b246UmVhY3QuRkM8UmVhY3QuQnV0dG9uSFRNTEF0dHJpYnV0ZXM8SFRNTEJ1dHRvbkVsZW1lbnQ+PiA9ICh7IGNoaWxkcmVuLCAuLi5wcm9wcyB9KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidXR0b25cIiB7Li4ucHJvcHN9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvYnV0dG9uPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUmVhY3QubWVtbyhCdXR0b24pOyIsImltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IGdldEF1dGhTdGF0dXMgfSBmcm9tIFwiQHNlbGVjdG9yc1wiO1xuXG5pbXBvcnQgdXNlUm91dGVyIGZyb20gXCIuL3VzZVJvdXRlclwiO1xuXG5mdW5jdGlvbiB1c2VBdXRoQ2hlY2socmV2ZXJzZT86IGJvb2xlYW4pIHtcbiAgY29uc3QgeyBuYXZpZ2F0ZSB9ID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IGlzQXV0aCA9IHVzZVNlbGVjdG9yKGdldEF1dGhTdGF0dXMpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNBdXRoKSBuYXZpZ2F0ZSgnL3NpZ25pbicpO1xuICAgIGlmIChyZXZlcnNlICYmIGlzQXV0aCkgbmF2aWdhdGUoJy8nKTtcbiAgfSwgW2lzQXV0aF0pXG59XG5cbmV4cG9ydCBkZWZhdWx0IHVzZUF1dGhDaGVjazsiLCJpbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUGFyYW1zLCB1c2VMb2NhdGlvbiwgdXNlTmF2aWdhdGUsIHVzZU1hdGNoIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZVJvdXRlcigpIHtcbiAgY29uc3QgcGFyYW1zID0gdXNlUGFyYW1zKCk7XG4gIGNvbnN0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcbiAgY29uc3QgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xuICBjb25zdCBtYXRjaCA9IHVzZU1hdGNoO1xuXG4gIHJldHVybiB1c2VNZW1vKCgpID0+ICh7XG4gICAgcGFyYW1zLFxuICAgIGxvY2F0aW9uLFxuICAgIG5hdmlnYXRlLFxuICAgIG1hdGNoLFxuICAgIHBhdGhuYW1lOiBsb2NhdGlvbi5wYXRobmFtZVxuICB9KSwgW3BhcmFtcywgbG9jYXRpb24sIG5hdmlnYXRlXSlcbn0iLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgZm9yd2FyZFJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG52YXIgVXNlciA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKF9yZWYsIHJlZikge1xuICB2YXIgX3JlZiRjb2xvciA9IF9yZWYuY29sb3IsXG4gICAgICBjb2xvciA9IF9yZWYkY29sb3IgPT09IHZvaWQgMCA/ICdjdXJyZW50Q29sb3InIDogX3JlZiRjb2xvcixcbiAgICAgIF9yZWYkc2l6ZSA9IF9yZWYuc2l6ZSxcbiAgICAgIHNpemUgPSBfcmVmJHNpemUgPT09IHZvaWQgMCA/IDI0IDogX3JlZiRzaXplLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbXCJjb2xvclwiLCBcInNpemVcIl0pO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWYsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB3aWR0aDogc2l6ZSxcbiAgICBoZWlnaHQ6IHNpemUsXG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBzdHJva2U6IGNvbG9yLFxuICAgIHN0cm9rZVdpZHRoOiBcIjJcIixcbiAgICBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsXG4gICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICB9LCByZXN0KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0yMCAyMXYtMmE0IDQgMCAwIDAtNC00SDhhNCA0IDAgMCAwLTQgNHYyXCJcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiY2lyY2xlXCIsIHtcbiAgICBjeDogXCIxMlwiLFxuICAgIGN5OiBcIjdcIixcbiAgICByOiBcIjRcIlxuICB9KSk7XG59KTtcblVzZXIucHJvcFR5cGVzID0ge1xuICBjb2xvcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm51bWJlcl0pXG59O1xuVXNlci5kaXNwbGF5TmFtZSA9ICdVc2VyJztcbmV4cG9ydCBkZWZhdWx0IFVzZXI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMWY1OGNlZmZiNWMyMjQ0YzMzY2FjMDFmNTdiYWMwNDkucG5nXCI7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0LCB7IGZvcndhcmRSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xudmFyIExvY2sgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIChfcmVmLCByZWYpIHtcbiAgdmFyIF9yZWYkY29sb3IgPSBfcmVmLmNvbG9yLFxuICAgICAgY29sb3IgPSBfcmVmJGNvbG9yID09PSB2b2lkIDAgPyAnY3VycmVudENvbG9yJyA6IF9yZWYkY29sb3IsXG4gICAgICBfcmVmJHNpemUgPSBfcmVmLnNpemUsXG4gICAgICBzaXplID0gX3JlZiRzaXplID09PSB2b2lkIDAgPyAyNCA6IF9yZWYkc2l6ZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgW1wiY29sb3JcIiwgXCJzaXplXCJdKTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmLFxuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgd2lkdGg6IHNpemUsXG4gICAgaGVpZ2h0OiBzaXplLFxuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgc3Ryb2tlOiBjb2xvcixcbiAgICBzdHJva2VXaWR0aDogXCIyXCIsXG4gICAgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLFxuICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgfSwgcmVzdCksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicmVjdFwiLCB7XG4gICAgeDogXCIzXCIsXG4gICAgeTogXCIxMVwiLFxuICAgIHdpZHRoOiBcIjE4XCIsXG4gICAgaGVpZ2h0OiBcIjExXCIsXG4gICAgcng6IFwiMlwiLFxuICAgIHJ5OiBcIjJcIlxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk03IDExVjdhNSA1IDAgMCAxIDEwIDB2NFwiXG4gIH0pKTtcbn0pO1xuTG9jay5wcm9wVHlwZXMgPSB7XG4gIGNvbG9yOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBzaXplOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMubnVtYmVyXSlcbn07XG5Mb2NrLmRpc3BsYXlOYW1lID0gJ0xvY2snO1xuZXhwb3J0IGRlZmF1bHQgTG9jazsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSWNvbiB9IGZyb20gJ3JlYWN0LWZlYXRoZXInO1xuXG4vLyBJbXBvcnQgc3R5bGVzXG5pbXBvcnQgJy4vZm9ybS1maWVsZC5zY3NzJztcblxuaW50ZXJmYWNlIElGb3JtRmllbGRQcm9wcyB7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgdHlwZTogc3RyaW5nO1xuICB2YWx1ZTogc3RyaW5nO1xuICBvbkNoYW5nZTogKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB2b2lkO1xuICBJY29uOiBJY29uO1xufVxuXG5jb25zdCBGb3JtRmllbGQ6UmVhY3QuRkM8SUZvcm1GaWVsZFByb3BzPiA9ICh7IGxhYmVsLCBuYW1lLCB0eXBlLCB2YWx1ZSwgb25DaGFuZ2UsIEljb24gfSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1maWVsZFwiPlxuICAgICAgPGxhYmVsIGh0bWxGb3I9e25hbWV9PntsYWJlbH08L2xhYmVsPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWZpZWxkLS1pbnB1dFwiPlxuICAgICAgICA8SWNvbiBzaXplPXsxOH0gLz5cbiAgICAgICAgPGlucHV0IG5hbWU9e25hbWV9IGlkPXtuYW1lfSB0eXBlPXt0eXBlfSB2YWx1ZT17dmFsdWV9IG9uQ2hhbmdlPXtvbkNoYW5nZX0gLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUmVhY3QubWVtbyhGb3JtRmllbGQpOyIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBVc2VyLCBMb2NrIH0gZnJvbSAncmVhY3QtZmVhdGhlcic7XG5cbi8vIEltcG9ydCBSZWR1eFxuaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgZ2V0QXV0aExvYWRpbmdTdGF0dXMgfSBmcm9tICdAc2VsZWN0b3JzJztcbmltcG9ydCBBY3Rpb25zIGZyb20gJ0BhY3Rpb25zJztcblxuLy8gSW1wb3J0IGNvbXBvbmVudHNcbmltcG9ydCBGb3JtRmllbGQgZnJvbSAnQC91aS9Gb3JtRmllbGQnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdAL3VpL0J1dHRvbic7XG5pbXBvcnQgU3Bpbm5lciBmcm9tICdAL3VpL1NwaW5uZXInO1xuXG4vLyBJbXBvcnQgaW1hZ3NlXG5pbXBvcnQgbG9nbyBmcm9tICdAaW1hZ2VzL2xvZ28uc3ZnJztcblxuLy8gSW1wb3J0IHN0eWxlc1xuaW1wb3J0ICcuL3NpZ24taW4tZm9ybS5zY3NzJztcblxuY29uc3QgU2lnbkluRm9ybSA9ICgpID0+IHtcbiAgY29uc3QgWyBsb2dpbiwgc2V0TG9naW4gXSA9IHVzZVN0YXRlKCdTb21lVXNlcm5hbWUnKTtcbiAgY29uc3QgWyBwYXNzd29yZCwgc2V0UGFzc3dvcmQgXSA9IHVzZVN0YXRlKCdxd2VydHknKTtcblxuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gIGNvbnN0IGxvYWRpbmcgPSB1c2VTZWxlY3RvcihnZXRBdXRoTG9hZGluZ1N0YXR1cyk7XG5cbiAgY29uc3QgdmFsaWRhdGVJbnB1dHMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKGxvZ2luLmxlbmd0aCA8IDUgfHwgcGFzc3dvcmQubGVuZ3RoIDwgNikgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9LCBbIGxvZ2luLCBwYXNzd29yZCBdKTtcblxuICBjb25zdCBoYW5kbGVTdWJtaXQgPSB1c2VDYWxsYmFjaygoZTogUmVhY3QuRm9ybUV2ZW50PEhUTUxGb3JtRWxlbWVudD4pID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKCF2YWxpZGF0ZUlucHV0cykgcmV0dXJuO1xuICAgIGRpc3BhdGNoKEFjdGlvbnMuc2lnbkluQWN0aW9uKHsgbG9naW4sIHBhc3N3b3JkIH0pKTtcbiAgfSwgW2xvZ2luLCBwYXNzd29yZF0pO1xuXG4gIHJldHVybiAoXG4gICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwic2lnbi1pbi1mb3JtXCI+XG4gICAgICA8aW1nIGNsYXNzTmFtZT1cInNpZ24taW4tZm9ybS0tbG9nb1wiIHNyYz17bG9nb30gLz5cbiAgICAgIDxoMSBjbGFzc05hbWU9XCJzaWduLWluLWZvcm0tLXRpdGxlXCI+QVBJLlF1ZXJ5PC9oMT5cbiAgICAgIDxGb3JtRmllbGQgbmFtZT1cImxvZ2luXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17bG9naW59XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0TG9naW4oZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBsYWJlbD1cItCb0L7Qs9C40L0qXCJcbiAgICAgICAgICAgICAgICBJY29uPXtVc2VyfVxuICAgICAgLz5cbiAgICAgIDxGb3JtRmllbGQgbmFtZT1cInBhc3N3b3JkXCIgXG4gICAgICAgICAgICAgICAgdmFsdWU9e3Bhc3N3b3JkfSBcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBzZXRQYXNzd29yZChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICBsYWJlbD1cItCf0LDRgNC+0LvRjCpcIlxuICAgICAgICAgICAgICAgIEljb249e0xvY2t9XG4gICAgICAvPlxuICAgICAgPEJ1dHRvbiB0eXBlPVwic3VibWl0XCIgZGlzYWJsZWQ9eyF2YWxpZGF0ZUlucHV0cygpfT5cbiAgICAgICAgeyFsb2FkaW5nICYmICfQktGF0L7QtCd9XG4gICAgICAgIHtsb2FkaW5nICYmIDxTcGlubmVyIHNpemU9ezE4fSAvPn1cbiAgICAgIDwvQnV0dG9uPlxuICAgIDwvZm9ybT5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNpZ25JbkZvcm07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLy8gSW1wb3J0IHN0eWxlc1xuaW1wb3J0ICcuL3NpZ24taW4tZ3JpZC5zY3NzJztcblxuY29uc3QgU2lnbkluR3JpZDpSZWFjdC5GQyA9ICh7IGNoaWxkcmVuIH0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJzaWduLWluLWdyaWQtLXdyYXBwZXJcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2lnbi1pbi1ncmlkXCI+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgIDwvc2VjdGlvbj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNpZ25JbkdyaWQ7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLy8gSW1wb3J0IGltYWdlc1xuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IGltZyBmcm9tICdAaW1hZ2VzL3NpZ24taW4ucG5nJztcblxuLy8gSW1wb3J0IHN0eWxlc1xuaW1wb3J0ICcuL3NpZ24taW4taW1hZ2Uuc2Nzcyc7XG5cbmNvbnN0IFNpZ25JbkltYWdlOlJlYWN0LkZDID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic2lnbi1pbi1pbWFnZVwiIHN0eWxlPXt7IGJhY2tncm91bmRJbWFnZTogYHVybChcIiR7aW1nfVwiKWAgfX0gLz5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNpZ25JbkltYWdlOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8vIEltcG9ydCBjb21wb25lbnRzXG5pbXBvcnQgU2lnbkluRm9ybSBmcm9tICdAL1NpZ25JbkZvcm0nO1xuaW1wb3J0IFNpZ25JbkdyaWQgZnJvbSAnQC91aS9TaWduSW5HcmlkJztcbmltcG9ydCBTaWduSW5JbWFnZSBmcm9tICdAL3VpL1NpZ25JbkltYWdlJztcbmltcG9ydCB1c2VBdXRoQ2hlY2sgZnJvbSAnQGhvb2tzL3VzZUF1dGhDaGVjayc7XG5cbmNvbnN0IFNpZ25JbjpSZWFjdC5GQyA9ICgpID0+IHtcbiAgdXNlQXV0aENoZWNrKHRydWUpO1xuICByZXR1cm4gKFxuICAgIDxTaWduSW5HcmlkPlxuICAgICAgPFNpZ25JbkltYWdlIC8+XG4gICAgICA8U2lnbkluRm9ybSAvPlxuICAgIDwvU2lnbkluR3JpZD5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJlYWN0Lm1lbW8oU2lnbkluKTsiXSwic291cmNlUm9vdCI6IiJ9