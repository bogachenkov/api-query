(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{384:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"h",(function(){return f})),n.d(t,"d",(function(){return s})),n.d(t,"i",(function(){return p}));var r=n(429),a=function(e){return e.auth.login},o=function(e){return e.auth.loading},i=function(e){return e.auth.isAuth},c=function(e){return e.response.loading},u=function(e){return e.response.responseValue},l=function(e){return e.editor.width},f=function(e){return e.history.selected},s=function(e){return e.history.records},p=Object(r.a)(f,s,(function(e,t){return t.find((function(t){return t.id===e}))}))},429:function(e,t,n){"use strict";function r(e,t){return e===t}function a(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}n.d(t,"a",(function(){return i}));var i=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];var i=0,c=r.pop(),u=o(r),l=e.apply(void 0,[function(){return i++,c.apply(null,arguments)}].concat(n)),f=e((function(){for(var e=[],t=u.length,n=0;n<t;n++)e.push(u[n].apply(null,arguments));return l.apply(null,e)}));return f.resultFunc=c,f.dependencies=u,f.recomputations=function(){return i},f.resetRecomputations=function(){return i=0},f}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,o=null;return function(){return a(t,n,arguments)||(o=e.apply(null,arguments)),n=arguments,o}}))},430:function(e,t){e.exports="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 59 43'%3E%3Cdefs%3E%3Cstyle%3E.cls-4%7Bfill:%23fff%7D%3C/style%3E%3C/defs%3E%3Cg id='\u0421\u043b\u043e\u0439_2' data-name='\u0421\u043b\u043e\u0439 2'%3E%3Cg id='\u0421\u043b\u043e\u0439_1-2' data-name='\u0421\u043b\u043e\u0439 1'%3E%3Ccircle cx='44' cy='28' r='15' fill='%23cae8ea'/%3E%3Crect width='47' height='33' rx='4' fill='%2389c5cc'/%3E%3Crect x='6' y='5' width='45' height='31' rx='3' fill='%231a1a1a'/%3E%3Cpath d='M48 6a2 2 0 012 2v25a2 2 0 01-2 2H9a2 2 0 01-2-2V8a2 2 0 012-2h39m0-2H9a4 4 0 00-4 4v25a4 4 0 004 4h39a4 4 0 004-4V8a4 4 0 00-4-4z'/%3E%3Crect class='cls-4' x='10.5' y='12.5' width='12' height='2' rx='1' transform='rotate(30 16.497 13.5)'/%3E%3Crect class='cls-4' x='10.42' y='17.3' width='11.98' height='2' rx='1' transform='rotate(-27.01 16.413 18.299)'/%3E%3Crect class='cls-4' x='22' y='20' width='9' height='2' rx='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"},443:function(e,t,n){"use strict";var r=n(0),a=n.n(r);n(444);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.a=function(e){var t=e.children,n=i(e,["children"]);return a.a.createElement("button",o({className:"button"},n),t)}},444:function(e,t,n){},447:function(e,t,n){"use strict";var r=n(0),a=n(108),o=n(384),i=n(5);t.a=function(e){var t=function(){var e=Object(i.i)(),t=Object(i.f)(),n=Object(i.h)(),a=i.g;return Object(r.useMemo)((function(){return{params:e,location:t,navigate:n,match:a,pathname:t.pathname}}),[e,t,n])}().navigate,n=Object(a.c)(o.b);Object(r.useEffect)((function(){n||t("/signin"),e&&n&&t("/")}),[n])}},473:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(38),i=n.n(o);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=Object(r.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,i=void 0===o?24:o,l=u(e,["color","size"]);return a.a.createElement("svg",c({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),a.a.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),a.a.createElement("circle",{cx:"12",cy:"7",r:"4"}))}));l.propTypes={color:i.a.string,size:i.a.oneOfType([i.a.string,i.a.number])},l.displayName="User",t.a=l},526:function(e,t,n){},527:function(e,t,n){},528:function(e,t,n){},529:function(e,t,n){e.exports=n.p+"1f58ceffb5c2244c33cac01f57bac049.png"},530:function(e,t,n){},547:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(473),i=n(38),c=n.n(i);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var f=Object(r.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,i=void 0===o?24:o,c=l(e,["color","size"]);return a.a.createElement("svg",u({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),a.a.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),a.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}))}));f.propTypes={color:c.a.string,size:c.a.oneOfType([c.a.string,c.a.number])},f.displayName="Lock";var s=f,p=n(108),m=n(384),d=n(20),g=(n(526),function(e){var t=e.label,n=e.name,r=e.type,o=e.value,i=e.onChange,c=e.Icon;return a.a.createElement("div",{className:"form-field"},a.a.createElement("label",{htmlFor:n},t),a.a.createElement("div",{className:"form-field--input"},a.a.createElement(c,{size:18}),a.a.createElement("input",{name:n,id:n,type:r,value:o,onChange:i})))}),h=n(443),v=n(109),y=n(430),b=n.n(y);n(527);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(u){a=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function(){var e=O(Object(r.useState)("SomeUsername"),2),t=e[0],n=e[1],i=O(Object(r.useState)("qwerty"),2),c=i[0],u=i[1],l=Object(p.b)(),f=Object(p.c)(m.a),y=Object(r.useCallback)((function(){return!(t.length<5||c.length<6)}),[t,c]),w=Object(r.useCallback)((function(e){e.preventDefault(),y&&l(d.a.signInAction({login:t,password:c}))}),[t,c]);return a.a.createElement("form",{onSubmit:w,className:"sign-in-form"},a.a.createElement("img",{className:"sign-in-form--logo",src:b.a}),a.a.createElement("h1",{className:"sign-in-form--title"},"API.Query"),a.a.createElement(g,{name:"login",value:t,onChange:function(e){return n(e.target.value)},type:"text",label:"\u041b\u043e\u0433\u0438\u043d*",Icon:o.a}),a.a.createElement(g,{name:"password",value:c,onChange:function(e){return u(e.target.value)},type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c*",Icon:s}),a.a.createElement(h.a,{type:"submit",disabled:!y()},!f&&"\u0412\u0445\u043e\u0434",f&&a.a.createElement(v.a,{size:18})))},j=(n(528),function(e){var t=e.children;return a.a.createElement("section",{className:"sign-in-grid--wrapper"},a.a.createElement("div",{className:"sign-in-grid"},t))}),x=n(529),C=n.n(x),k=(n(530),function(){return a.a.createElement("div",{className:"sign-in-image",style:{backgroundImage:'url("'.concat(C.a,'")')}})}),S=n(447),A=function(){return Object(S.a)(!0),a.a.createElement(j,null,a.a.createElement(k,null),a.a.createElement(E,null))};t.default=a.a.memo(A)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RvcmUvc2VsZWN0b3JzL2luZGV4LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNlbGVjdC9lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2ltYWdlcy9sb2dvLnN2ZyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy91aS9CdXR0b24vaW5kZXgudHN4Iiwid2VicGFjazovLy8uL3NyYy9ob29rcy91c2VBdXRoQ2hlY2sudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hvb2tzL3VzZVJvdXRlci50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZmVhdGhlci9kaXN0L2ljb25zL3VzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9pbWFnZXMvc2lnbi1pbi5wbmciLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWZlYXRoZXIvZGlzdC9pY29ucy9sb2NrLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3VpL0Zvcm1GaWVsZC9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvU2lnbkluRm9ybS9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdWkvU2lnbkluR3JpZC9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdWkvU2lnbkluSW1hZ2UvaW5kZXgudHN4Iiwid2VicGFjazovLy8uL3NyYy9zY3JlZW5zL1NpZ25Jbi9pbmRleC50c3giXSwibmFtZXMiOlsiZ2V0TG9naW5TZWxlY3RvciIsInN0YXRlIiwiYXV0aCIsImxvZ2luIiwiZ2V0QXV0aExvYWRpbmdTdGF0dXMiLCJsb2FkaW5nIiwiZ2V0QXV0aFN0YXR1cyIsImlzQXV0aCIsImdldFJlc3BvbnNlTG9hZGluZ1N0YXR1cyIsInJlc3BvbnNlIiwiZ2V0UmVzcG9uc2VWYWx1ZSIsInJlc3BvbnNlVmFsdWUiLCJnZXRFZGl0b3JXaWR0aCIsImVkaXRvciIsIndpZHRoIiwiZ2V0U2VsZWN0ZWRJRCIsImhpc3RvcnkiLCJzZWxlY3RlZCIsImdldEhpc3RvcnlSZWNvcmRzIiwicmVjb3JkcyIsImdldFNlbGVjdGVkVmFsdWUiLCJjcmVhdGVTZWxlY3RvciIsInNlbGVjdGVkSWQiLCJmaW5kIiwicmVjIiwiaWQiLCJkZWZhdWx0RXF1YWxpdHlDaGVjayIsImEiLCJiIiwiYXJlQXJndW1lbnRzU2hhbGxvd2x5RXF1YWwiLCJlcXVhbGl0eUNoZWNrIiwicHJldiIsIm5leHQiLCJsZW5ndGgiLCJpIiwiZ2V0RGVwZW5kZW5jaWVzIiwiZnVuY3MiLCJkZXBlbmRlbmNpZXMiLCJBcnJheSIsImlzQXJyYXkiLCJldmVyeSIsImRlcCIsImRlcGVuZGVuY3lUeXBlcyIsIm1hcCIsImpvaW4iLCJFcnJvciIsIm1lbW9pemUiLCJfbGVuIiwiYXJndW1lbnRzIiwibWVtb2l6ZU9wdGlvbnMiLCJfa2V5IiwiX2xlbjIiLCJfa2V5MiIsInJlY29tcHV0YXRpb25zIiwicmVzdWx0RnVuYyIsInBvcCIsIm1lbW9pemVkUmVzdWx0RnVuYyIsImFwcGx5IiwidW5kZWZpbmVkIiwiY29uY2F0Iiwic2VsZWN0b3IiLCJwYXJhbXMiLCJwdXNoIiwicmVzZXRSZWNvbXB1dGF0aW9ucyIsImNyZWF0ZVNlbGVjdG9yQ3JlYXRvciIsImZ1bmMiLCJsYXN0QXJncyIsImxhc3RSZXN1bHQiLCJtb2R1bGUiLCJleHBvcnRzIiwiQnV0dG9uIiwiY2hpbGRyZW4iLCJwcm9wcyIsImNsYXNzTmFtZSIsInVzZUF1dGhDaGVjayIsInJldmVyc2UiLCJuYXZpZ2F0ZSIsInVzZVBhcmFtcyIsImxvY2F0aW9uIiwidXNlTG9jYXRpb24iLCJ1c2VOYXZpZ2F0ZSIsIm1hdGNoIiwidXNlTWF0Y2giLCJ1c2VNZW1vIiwicGF0aG5hbWUiLCJ1c2VSb3V0ZXIiLCJ1c2VTZWxlY3RvciIsInVzZUVmZmVjdCIsIl9leHRlbmRzIiwiT2JqZWN0IiwiYXNzaWduIiwidGFyZ2V0Iiwic291cmNlIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwidGhpcyIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllcyIsImV4Y2x1ZGVkIiwic291cmNlS2V5cyIsImtleXMiLCJpbmRleE9mIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJzb3VyY2VTeW1ib2xLZXlzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJVc2VyIiwiX3JlZiIsInJlZiIsIl9yZWYkY29sb3IiLCJjb2xvciIsIl9yZWYkc2l6ZSIsInNpemUiLCJyZXN0IiwiY3JlYXRlRWxlbWVudCIsInhtbG5zIiwiaGVpZ2h0Iiwidmlld0JveCIsImZpbGwiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsImQiLCJjeCIsImN5IiwiciIsInByb3BUeXBlcyIsInN0cmluZyIsIm9uZU9mVHlwZSIsIm51bWJlciIsImRpc3BsYXlOYW1lIiwiTG9jayIsIngiLCJ5IiwicngiLCJyeSIsIkZvcm1GaWVsZCIsImxhYmVsIiwibmFtZSIsInR5cGUiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiSWNvbiIsImh0bWxGb3IiLCJTaWduSW5Gb3JtIiwidXNlU3RhdGUiLCJzZXRMb2dpbiIsInBhc3N3b3JkIiwic2V0UGFzc3dvcmQiLCJkaXNwYXRjaCIsInVzZURpc3BhdGNoIiwidmFsaWRhdGVJbnB1dHMiLCJ1c2VDYWxsYmFjayIsImhhbmRsZVN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIkFjdGlvbnMiLCJzaWduSW5BY3Rpb24iLCJvblN1Ym1pdCIsInNyYyIsImxvZ28iLCJkaXNhYmxlZCIsIlNwaW5uZXIiLCJTaWduSW5HcmlkIiwiU2lnbkluSW1hZ2UiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImltZyIsIlNpZ25JbiIsIlJlYWN0IiwibWVtbyJdLCJtYXBwaW5ncyI6IjBGQUNBLCtUQUdhQSxFQUFt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Q0Esa0JBQUMsRUFBRCxRQUtTaUcsY0FBTUMsS0FBS0YiLCJmaWxlIjoic3RhdGljL2pzLzUuMmI0ZGQ5NTEuY2h1bmsuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb290U3RhdGUgfSBmcm9tICdzdG9yZS9yZWR1Y2Vycyc7XG5pbXBvcnQgeyBjcmVhdGVTZWxlY3RvciB9IGZyb20gJ3Jlc2VsZWN0JztcblxuLy8gQXV0aCBzZWxlY3RvcnNcbmV4cG9ydCBjb25zdCBnZXRMb2dpblNlbGVjdG9yID0gKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLmF1dGgubG9naW47XG5leHBvcnQgY29uc3QgZ2V0QXV0aExvYWRpbmdTdGF0dXMgPSAoc3RhdGU6IFJvb3RTdGF0ZSkgPT4gc3RhdGUuYXV0aC5sb2FkaW5nO1xuZXhwb3J0IGNvbnN0IGdldEF1dGhTdGF0dXMgPSAoc3RhdGU6IFJvb3RTdGF0ZSkgPT4gc3RhdGUuYXV0aC5pc0F1dGg7XG5cbi8vIFJlc3BvbnNlIHNlbGVjdG9yc1xuZXhwb3J0IGNvbnN0IGdldFJlc3BvbnNlTG9hZGluZ1N0YXR1cyA9IChzdGF0ZTogUm9vdFN0YXRlKSA9PiBzdGF0ZS5yZXNwb25zZS5sb2FkaW5nO1xuZXhwb3J0IGNvbnN0IGdldFJlc3BvbnNlVmFsdWUgPSAoc3RhdGU6IFJvb3RTdGF0ZSkgPT4gc3RhdGUucmVzcG9uc2UucmVzcG9uc2VWYWx1ZTtcblxuLy8gRWRpdG9yIHNlbGVjdG9yc1xuZXhwb3J0IGNvbnN0IGdldEVkaXRvcldpZHRoID0gKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLmVkaXRvci53aWR0aDtcblxuLy8gSGlzdG9yeSBzZWxlY3RvcnNcbmV4cG9ydCBjb25zdCBnZXRTZWxlY3RlZElEID0gKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLmhpc3Rvcnkuc2VsZWN0ZWQ7XG5leHBvcnQgY29uc3QgZ2V0SGlzdG9yeVJlY29yZHMgPSAoc3RhdGU6IFJvb3RTdGF0ZSkgPT4gc3RhdGUuaGlzdG9yeS5yZWNvcmRzO1xuXG5leHBvcnQgY29uc3QgZ2V0U2VsZWN0ZWRWYWx1ZSA9IGNyZWF0ZVNlbGVjdG9yKFxuICBnZXRTZWxlY3RlZElELCBnZXRIaXN0b3J5UmVjb3JkcyxcbiAgKHNlbGVjdGVkSWQsIHJlY29yZHMgKSA9PiB7XG4gICAgcmV0dXJuIHJlY29yZHMuZmluZChyZWMgPT4gcmVjLmlkID09PSBzZWxlY3RlZElkKVxuICB9XG4pXG5cbiIsImZ1bmN0aW9uIGRlZmF1bHRFcXVhbGl0eUNoZWNrKGEsIGIpIHtcbiAgcmV0dXJuIGEgPT09IGI7XG59XG5cbmZ1bmN0aW9uIGFyZUFyZ3VtZW50c1NoYWxsb3dseUVxdWFsKGVxdWFsaXR5Q2hlY2ssIHByZXYsIG5leHQpIHtcbiAgaWYgKHByZXYgPT09IG51bGwgfHwgbmV4dCA9PT0gbnVsbCB8fCBwcmV2Lmxlbmd0aCAhPT0gbmV4dC5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBEbyB0aGlzIGluIGEgZm9yIGxvb3AgKGFuZCBub3QgYSBgZm9yRWFjaGAgb3IgYW4gYGV2ZXJ5YCkgc28gd2UgY2FuIGRldGVybWluZSBlcXVhbGl0eSBhcyBmYXN0IGFzIHBvc3NpYmxlLlxuICB2YXIgbGVuZ3RoID0gcHJldi5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWVxdWFsaXR5Q2hlY2socHJldltpXSwgbmV4dFtpXSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRNZW1vaXplKGZ1bmMpIHtcbiAgdmFyIGVxdWFsaXR5Q2hlY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGRlZmF1bHRFcXVhbGl0eUNoZWNrO1xuXG4gIHZhciBsYXN0QXJncyA9IG51bGw7XG4gIHZhciBsYXN0UmVzdWx0ID0gbnVsbDtcbiAgLy8gd2UgcmVmZXJlbmNlIGFyZ3VtZW50cyBpbnN0ZWFkIG9mIHNwcmVhZGluZyB0aGVtIGZvciBwZXJmb3JtYW5jZSByZWFzb25zXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFhcmVBcmd1bWVudHNTaGFsbG93bHlFcXVhbChlcXVhbGl0eUNoZWNrLCBsYXN0QXJncywgYXJndW1lbnRzKSkge1xuICAgICAgLy8gYXBwbHkgYXJndW1lbnRzIGluc3RlYWQgb2Ygc3ByZWFkaW5nIGZvciBwZXJmb3JtYW5jZS5cbiAgICAgIGxhc3RSZXN1bHQgPSBmdW5jLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldERlcGVuZGVuY2llcyhmdW5jcykge1xuICB2YXIgZGVwZW5kZW5jaWVzID0gQXJyYXkuaXNBcnJheShmdW5jc1swXSkgPyBmdW5jc1swXSA6IGZ1bmNzO1xuXG4gIGlmICghZGVwZW5kZW5jaWVzLmV2ZXJ5KGZ1bmN0aW9uIChkZXApIHtcbiAgICByZXR1cm4gdHlwZW9mIGRlcCA9PT0gJ2Z1bmN0aW9uJztcbiAgfSkpIHtcbiAgICB2YXIgZGVwZW5kZW5jeVR5cGVzID0gZGVwZW5kZW5jaWVzLm1hcChmdW5jdGlvbiAoZGVwKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGRlcDtcbiAgICB9KS5qb2luKCcsICcpO1xuICAgIHRocm93IG5ldyBFcnJvcignU2VsZWN0b3IgY3JlYXRvcnMgZXhwZWN0IGFsbCBpbnB1dC1zZWxlY3RvcnMgdG8gYmUgZnVuY3Rpb25zLCAnICsgKCdpbnN0ZWFkIHJlY2VpdmVkIHRoZSBmb2xsb3dpbmcgdHlwZXM6IFsnICsgZGVwZW5kZW5jeVR5cGVzICsgJ10nKSk7XG4gIH1cblxuICByZXR1cm4gZGVwZW5kZW5jaWVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2VsZWN0b3JDcmVhdG9yKG1lbW9pemUpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG1lbW9pemVPcHRpb25zID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIG1lbW9pemVPcHRpb25zW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBmdW5jcyA9IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBmdW5jc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIHZhciByZWNvbXB1dGF0aW9ucyA9IDA7XG4gICAgdmFyIHJlc3VsdEZ1bmMgPSBmdW5jcy5wb3AoKTtcbiAgICB2YXIgZGVwZW5kZW5jaWVzID0gZ2V0RGVwZW5kZW5jaWVzKGZ1bmNzKTtcblxuICAgIHZhciBtZW1vaXplZFJlc3VsdEZ1bmMgPSBtZW1vaXplLmFwcGx5KHVuZGVmaW5lZCwgW2Z1bmN0aW9uICgpIHtcbiAgICAgIHJlY29tcHV0YXRpb25zKys7XG4gICAgICAvLyBhcHBseSBhcmd1bWVudHMgaW5zdGVhZCBvZiBzcHJlYWRpbmcgZm9yIHBlcmZvcm1hbmNlLlxuICAgICAgcmV0dXJuIHJlc3VsdEZ1bmMuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XS5jb25jYXQobWVtb2l6ZU9wdGlvbnMpKTtcblxuICAgIC8vIElmIGEgc2VsZWN0b3IgaXMgY2FsbGVkIHdpdGggdGhlIGV4YWN0IHNhbWUgYXJndW1lbnRzIHdlIGRvbid0IG5lZWQgdG8gdHJhdmVyc2Ugb3VyIGRlcGVuZGVuY2llcyBhZ2Fpbi5cbiAgICB2YXIgc2VsZWN0b3IgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwYXJhbXMgPSBbXTtcbiAgICAgIHZhciBsZW5ndGggPSBkZXBlbmRlbmNpZXMubGVuZ3RoO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGFwcGx5IGFyZ3VtZW50cyBpbnN0ZWFkIG9mIHNwcmVhZGluZyBhbmQgbXV0YXRlIGEgbG9jYWwgbGlzdCBvZiBwYXJhbXMgZm9yIHBlcmZvcm1hbmNlLlxuICAgICAgICBwYXJhbXMucHVzaChkZXBlbmRlbmNpZXNbaV0uYXBwbHkobnVsbCwgYXJndW1lbnRzKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGFwcGx5IGFyZ3VtZW50cyBpbnN0ZWFkIG9mIHNwcmVhZGluZyBmb3IgcGVyZm9ybWFuY2UuXG4gICAgICByZXR1cm4gbWVtb2l6ZWRSZXN1bHRGdW5jLmFwcGx5KG51bGwsIHBhcmFtcyk7XG4gICAgfSk7XG5cbiAgICBzZWxlY3Rvci5yZXN1bHRGdW5jID0gcmVzdWx0RnVuYztcbiAgICBzZWxlY3Rvci5kZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXM7XG4gICAgc2VsZWN0b3IucmVjb21wdXRhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVjb21wdXRhdGlvbnM7XG4gICAgfTtcbiAgICBzZWxlY3Rvci5yZXNldFJlY29tcHV0YXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlY29tcHV0YXRpb25zID0gMDtcbiAgICB9O1xuICAgIHJldHVybiBzZWxlY3RvcjtcbiAgfTtcbn1cblxuZXhwb3J0IHZhciBjcmVhdGVTZWxlY3RvciA9IGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcihkZWZhdWx0TWVtb2l6ZSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3Ioc2VsZWN0b3JzKSB7XG4gIHZhciBzZWxlY3RvckNyZWF0b3IgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGNyZWF0ZVNlbGVjdG9yO1xuXG4gIGlmICh0eXBlb2Ygc2VsZWN0b3JzICE9PSAnb2JqZWN0Jykge1xuICAgIHRocm93IG5ldyBFcnJvcignY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yIGV4cGVjdHMgZmlyc3QgYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0ICcgKyAoJ3doZXJlIGVhY2ggcHJvcGVydHkgaXMgYSBzZWxlY3RvciwgaW5zdGVhZCByZWNlaXZlZCBhICcgKyB0eXBlb2Ygc2VsZWN0b3JzKSk7XG4gIH1cbiAgdmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyhzZWxlY3RvcnMpO1xuICByZXR1cm4gc2VsZWN0b3JDcmVhdG9yKG9iamVjdEtleXMubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gc2VsZWN0b3JzW2tleV07XG4gIH0pLCBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCB2YWx1ZXMgPSBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgdmFsdWVzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoZnVuY3Rpb24gKGNvbXBvc2l0aW9uLCB2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIGNvbXBvc2l0aW9uW29iamVjdEtleXNbaW5kZXhdXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIGNvbXBvc2l0aW9uO1xuICAgIH0sIHt9KTtcbiAgfSk7XG59IiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgNTkgNDMnJTNFJTNDZGVmcyUzRSUzQ3N0eWxlJTNFLmNscy00JTdCZmlsbDolMjNmZmYlN0QlM0Mvc3R5bGUlM0UlM0MvZGVmcyUzRSUzQ2cgaWQ9J9Ch0LvQvtC5XzInIGRhdGEtbmFtZT0n0KHQu9C+0LkgMiclM0UlM0NnIGlkPSfQodC70L7QuV8xLTInIGRhdGEtbmFtZT0n0KHQu9C+0LkgMSclM0UlM0NjaXJjbGUgY3g9JzQ0JyBjeT0nMjgnIHI9JzE1JyBmaWxsPSclMjNjYWU4ZWEnLyUzRSUzQ3JlY3Qgd2lkdGg9JzQ3JyBoZWlnaHQ9JzMzJyByeD0nNCcgZmlsbD0nJTIzODljNWNjJy8lM0UlM0NyZWN0IHg9JzYnIHk9JzUnIHdpZHRoPSc0NScgaGVpZ2h0PSczMScgcng9JzMnIGZpbGw9JyUyMzFhMWExYScvJTNFJTNDcGF0aCBkPSdNNDggNmEyIDIgMCAwMTIgMnYyNWEyIDIgMCAwMS0yIDJIOWEyIDIgMCAwMS0yLTJWOGEyIDIgMCAwMTItMmgzOW0wLTJIOWE0IDQgMCAwMC00IDR2MjVhNCA0IDAgMDA0IDRoMzlhNCA0IDAgMDA0LTRWOGE0IDQgMCAwMC00LTR6Jy8lM0UlM0NyZWN0IGNsYXNzPSdjbHMtNCcgeD0nMTAuNScgeT0nMTIuNScgd2lkdGg9JzEyJyBoZWlnaHQ9JzInIHJ4PScxJyB0cmFuc2Zvcm09J3JvdGF0ZSgzMCAxNi40OTcgMTMuNSknLyUzRSUzQ3JlY3QgY2xhc3M9J2Nscy00JyB4PScxMC40MicgeT0nMTcuMycgd2lkdGg9JzExLjk4JyBoZWlnaHQ9JzInIHJ4PScxJyB0cmFuc2Zvcm09J3JvdGF0ZSgtMjcuMDEgMTYuNDEzIDE4LjI5OSknLyUzRSUzQ3JlY3QgY2xhc3M9J2Nscy00JyB4PScyMicgeT0nMjAnIHdpZHRoPSc5JyBoZWlnaHQ9JzInIHJ4PScxJy8lM0UlM0MvZyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVwiIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLy8gSW1wb3J0IHN0eWxlc1xuaW1wb3J0ICcuL2J1dHRvbi5zY3NzJztcblxuY29uc3QgQnV0dG9uOlJlYWN0LkZDPFJlYWN0LkJ1dHRvbkhUTUxBdHRyaWJ1dGVzPEhUTUxCdXR0b25FbGVtZW50Pj4gPSAoeyBjaGlsZHJlbiwgLi4ucHJvcHMgfSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnV0dG9uXCIgey4uLnByb3BzfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L2J1dHRvbj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbjsiLCJpbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVNlbGVjdG9yIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBnZXRBdXRoU3RhdHVzIH0gZnJvbSBcIkBzZWxlY3RvcnNcIjtcblxuaW1wb3J0IHVzZVJvdXRlciBmcm9tIFwiLi91c2VSb3V0ZXJcIjtcblxuZnVuY3Rpb24gdXNlQXV0aENoZWNrKHJldmVyc2U/OiBib29sZWFuKSB7XG4gIGNvbnN0IHsgbmF2aWdhdGUgfSA9IHVzZVJvdXRlcigpO1xuICBjb25zdCBpc0F1dGggPSB1c2VTZWxlY3RvcihnZXRBdXRoU3RhdHVzKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzQXV0aCkgbmF2aWdhdGUoJy9zaWduaW4nKTtcbiAgICBpZiAocmV2ZXJzZSAmJiBpc0F1dGgpIG5hdmlnYXRlKCcvJyk7XG4gIH0sIFtpc0F1dGhdKVxufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VBdXRoQ2hlY2s7IiwiaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVBhcmFtcywgdXNlTG9jYXRpb24sIHVzZU5hdmlnYXRlLCB1c2VNYXRjaCB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VSb3V0ZXIoKSB7XG4gIGNvbnN0IHBhcmFtcyA9IHVzZVBhcmFtcygpO1xuICBjb25zdCBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG4gIGNvbnN0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcbiAgY29uc3QgbWF0Y2ggPSB1c2VNYXRjaDtcblxuICByZXR1cm4gdXNlTWVtbygoKSA9PiAoe1xuICAgIHBhcmFtcyxcbiAgICBsb2NhdGlvbixcbiAgICBuYXZpZ2F0ZSxcbiAgICBtYXRjaCxcbiAgICBwYXRobmFtZTogbG9jYXRpb24ucGF0aG5hbWVcbiAgfSksIFtwYXJhbXMsIGxvY2F0aW9uLCBuYXZpZ2F0ZV0pXG59IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0LCB7IGZvcndhcmRSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xudmFyIFVzZXIgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIChfcmVmLCByZWYpIHtcbiAgdmFyIF9yZWYkY29sb3IgPSBfcmVmLmNvbG9yLFxuICAgICAgY29sb3IgPSBfcmVmJGNvbG9yID09PSB2b2lkIDAgPyAnY3VycmVudENvbG9yJyA6IF9yZWYkY29sb3IsXG4gICAgICBfcmVmJHNpemUgPSBfcmVmLnNpemUsXG4gICAgICBzaXplID0gX3JlZiRzaXplID09PSB2b2lkIDAgPyAyNCA6IF9yZWYkc2l6ZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgW1wiY29sb3JcIiwgXCJzaXplXCJdKTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmLFxuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgd2lkdGg6IHNpemUsXG4gICAgaGVpZ2h0OiBzaXplLFxuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgc3Ryb2tlOiBjb2xvcixcbiAgICBzdHJva2VXaWR0aDogXCIyXCIsXG4gICAgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLFxuICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgfSwgcmVzdCksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMjAgMjF2LTJhNCA0IDAgMCAwLTQtNEg4YTQgNCAwIDAgMC00IDR2MlwiXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImNpcmNsZVwiLCB7XG4gICAgY3g6IFwiMTJcIixcbiAgICBjeTogXCI3XCIsXG4gICAgcjogXCI0XCJcbiAgfSkpO1xufSk7XG5Vc2VyLnByb3BUeXBlcyA9IHtcbiAgY29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHNpemU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5udW1iZXJdKVxufTtcblVzZXIuZGlzcGxheU5hbWUgPSAnVXNlcic7XG5leHBvcnQgZGVmYXVsdCBVc2VyOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjFmNThjZWZmYjVjMjI0NGMzM2NhYzAxZjU3YmFjMDQ5LnBuZ1wiOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7IHZhciBrZXksIGk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCwgeyBmb3J3YXJkUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbnZhciBMb2NrID0gZm9yd2FyZFJlZihmdW5jdGlvbiAoX3JlZiwgcmVmKSB7XG4gIHZhciBfcmVmJGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgIGNvbG9yID0gX3JlZiRjb2xvciA9PT0gdm9pZCAwID8gJ2N1cnJlbnRDb2xvcicgOiBfcmVmJGNvbG9yLFxuICAgICAgX3JlZiRzaXplID0gX3JlZi5zaXplLFxuICAgICAgc2l6ZSA9IF9yZWYkc2l6ZSA9PT0gdm9pZCAwID8gMjQgOiBfcmVmJHNpemUsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFtcImNvbG9yXCIsIFwic2l6ZVwiXSk7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZixcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiBzaXplLFxuICAgIGhlaWdodDogc2l6ZSxcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHN0cm9rZTogY29sb3IsXG4gICAgc3Ryb2tlV2lkdGg6IFwiMlwiLFxuICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gIH0sIHJlc3QpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInJlY3RcIiwge1xuICAgIHg6IFwiM1wiLFxuICAgIHk6IFwiMTFcIixcbiAgICB3aWR0aDogXCIxOFwiLFxuICAgIGhlaWdodDogXCIxMVwiLFxuICAgIHJ4OiBcIjJcIixcbiAgICByeTogXCIyXCJcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNNyAxMVY3YTUgNSAwIDAgMSAxMCAwdjRcIlxuICB9KSk7XG59KTtcbkxvY2sucHJvcFR5cGVzID0ge1xuICBjb2xvcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm51bWJlcl0pXG59O1xuTG9jay5kaXNwbGF5TmFtZSA9ICdMb2NrJztcbmV4cG9ydCBkZWZhdWx0IExvY2s7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEljb24gfSBmcm9tICdyZWFjdC1mZWF0aGVyJztcblxuLy8gSW1wb3J0IHN0eWxlc1xuaW1wb3J0ICcuL2Zvcm0tZmllbGQuc2Nzcyc7XG5cbmludGVyZmFjZSBJRm9ybUZpZWxkUHJvcHMge1xuICBsYWJlbDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHR5cGU6IHN0cmluZztcbiAgdmFsdWU6IHN0cmluZztcbiAgb25DaGFuZ2U6IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4gdm9pZDtcbiAgSWNvbjogSWNvbjtcbn1cblxuY29uc3QgRm9ybUZpZWxkOlJlYWN0LkZDPElGb3JtRmllbGRQcm9wcz4gPSAoeyBsYWJlbCwgbmFtZSwgdHlwZSwgdmFsdWUsIG9uQ2hhbmdlLCBJY29uIH0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZmllbGRcIj5cbiAgICAgIDxsYWJlbCBodG1sRm9yPXtuYW1lfT57bGFiZWx9PC9sYWJlbD5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1maWVsZC0taW5wdXRcIj5cbiAgICAgICAgPEljb24gc2l6ZT17MTh9IC8+XG4gICAgICAgIDxpbnB1dCBuYW1lPXtuYW1lfSBpZD17bmFtZX0gdHlwZT17dHlwZX0gdmFsdWU9e3ZhbHVlfSBvbkNoYW5nZT17b25DaGFuZ2V9IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1GaWVsZDsiLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVXNlciwgTG9jayB9IGZyb20gJ3JlYWN0LWZlYXRoZXInO1xuXG4vLyBJbXBvcnQgUmVkdXhcbmltcG9ydCB7IHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IGdldEF1dGhMb2FkaW5nU3RhdHVzIH0gZnJvbSAnQHNlbGVjdG9ycyc7XG5pbXBvcnQgQWN0aW9ucyBmcm9tICdAYWN0aW9ucyc7XG5cbi8vIEltcG9ydCBjb21wb25lbnRzXG5pbXBvcnQgRm9ybUZpZWxkIGZyb20gJ0AvdWkvRm9ybUZpZWxkJztcbmltcG9ydCBCdXR0b24gZnJvbSAnQC91aS9CdXR0b24nO1xuaW1wb3J0IFNwaW5uZXIgZnJvbSAnQC91aS9TcGlubmVyJztcblxuLy8gSW1wb3J0IGltYWdzZVxuaW1wb3J0IGxvZ28gZnJvbSAnQGltYWdlcy9sb2dvLnN2Zyc7XG5cbi8vIEltcG9ydCBzdHlsZXNcbmltcG9ydCAnLi9zaWduLWluLWZvcm0uc2Nzcyc7XG5cbmNvbnN0IFNpZ25JbkZvcm0gPSAoKSA9PiB7XG4gIGNvbnN0IFsgbG9naW4sIHNldExvZ2luIF0gPSB1c2VTdGF0ZSgnU29tZVVzZXJuYW1lJyk7XG4gIGNvbnN0IFsgcGFzc3dvcmQsIHNldFBhc3N3b3JkIF0gPSB1c2VTdGF0ZSgncXdlcnR5Jyk7XG5cbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICBjb25zdCBsb2FkaW5nID0gdXNlU2VsZWN0b3IoZ2V0QXV0aExvYWRpbmdTdGF0dXMpO1xuXG4gIGNvbnN0IHZhbGlkYXRlSW5wdXRzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChsb2dpbi5sZW5ndGggPCA1IHx8IHBhc3N3b3JkLmxlbmd0aCA8IDYpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSwgWyBsb2dpbiwgcGFzc3dvcmQgXSk7XG5cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gdXNlQ2FsbGJhY2soKGU6IFJlYWN0LkZvcm1FdmVudDxIVE1MRm9ybUVsZW1lbnQ+KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICghdmFsaWRhdGVJbnB1dHMpIHJldHVybjtcbiAgICBkaXNwYXRjaChBY3Rpb25zLnNpZ25JbkFjdGlvbih7IGxvZ2luLCBwYXNzd29yZCB9KSk7XG4gIH0sIFtsb2dpbiwgcGFzc3dvcmRdKTtcblxuICByZXR1cm4gKFxuICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cInNpZ24taW4tZm9ybVwiPlxuICAgICAgPGltZyBjbGFzc05hbWU9XCJzaWduLWluLWZvcm0tLWxvZ29cIiBzcmM9e2xvZ299IC8+XG4gICAgICA8aDEgY2xhc3NOYW1lPVwic2lnbi1pbi1mb3JtLS10aXRsZVwiPkFQSS5RdWVyeTwvaDE+XG4gICAgICA8Rm9ybUZpZWxkIG5hbWU9XCJsb2dpblwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e2xvZ2lufVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldExvZ2luKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgbGFiZWw9XCLQm9C+0LPQuNC9KlwiXG4gICAgICAgICAgICAgICAgSWNvbj17VXNlcn1cbiAgICAgIC8+XG4gICAgICA8Rm9ybUZpZWxkIG5hbWU9XCJwYXNzd29yZFwiIFxuICAgICAgICAgICAgICAgIHZhbHVlPXtwYXNzd29yZH0gXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0UGFzc3dvcmQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgbGFiZWw9XCLQn9Cw0YDQvtC70YwqXCJcbiAgICAgICAgICAgICAgICBJY29uPXtMb2NrfVxuICAgICAgLz5cbiAgICAgIDxCdXR0b24gdHlwZT1cInN1Ym1pdFwiIGRpc2FibGVkPXshdmFsaWRhdGVJbnB1dHMoKX0+XG4gICAgICAgIHshbG9hZGluZyAmJiAn0JLRhdC+0LQnfVxuICAgICAgICB7bG9hZGluZyAmJiA8U3Bpbm5lciBzaXplPXsxOH0gLz59XG4gICAgICA8L0J1dHRvbj5cbiAgICA8L2Zvcm0+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTaWduSW5Gb3JtOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8vIEltcG9ydCBzdHlsZXNcbmltcG9ydCAnLi9zaWduLWluLWdyaWQuc2Nzcyc7XG5cbmNvbnN0IFNpZ25JbkdyaWQ6UmVhY3QuRkMgPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwic2lnbi1pbi1ncmlkLS13cmFwcGVyXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNpZ24taW4tZ3JpZFwiPlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICA8L3NlY3Rpb24+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTaWduSW5HcmlkOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8vIEltcG9ydCBpbWFnZXNcbi8vIEB0cy1pZ25vcmVcbmltcG9ydCBpbWcgZnJvbSAnQGltYWdlcy9zaWduLWluLnBuZyc7XG5cbi8vIEltcG9ydCBzdHlsZXNcbmltcG9ydCAnLi9zaWduLWluLWltYWdlLnNjc3MnO1xuXG5jb25zdCBTaWduSW5JbWFnZTpSZWFjdC5GQyA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNpZ24taW4taW1hZ2VcIiBzdHlsZT17eyBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoXCIke2ltZ31cIilgIH19IC8+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTaWduSW5JbWFnZTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vLyBJbXBvcnQgY29tcG9uZW50c1xuaW1wb3J0IFNpZ25JbkZvcm0gZnJvbSAnQC9TaWduSW5Gb3JtJztcbmltcG9ydCBTaWduSW5HcmlkIGZyb20gJ0AvdWkvU2lnbkluR3JpZCc7XG5pbXBvcnQgU2lnbkluSW1hZ2UgZnJvbSAnQC91aS9TaWduSW5JbWFnZSc7XG5pbXBvcnQgdXNlQXV0aENoZWNrIGZyb20gJ0Bob29rcy91c2VBdXRoQ2hlY2snO1xuXG5jb25zdCBTaWduSW46UmVhY3QuRkMgPSAoKSA9PiB7XG4gIHVzZUF1dGhDaGVjayh0cnVlKTtcbiAgcmV0dXJuIChcbiAgICA8U2lnbkluR3JpZD5cbiAgICAgIDxTaWduSW5JbWFnZSAvPlxuICAgICAgPFNpZ25JbkZvcm0gLz5cbiAgICA8L1NpZ25JbkdyaWQ+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSZWFjdC5tZW1vKFNpZ25Jbik7Il0sInNvdXJjZVJvb3QiOiIifQ==